gitConfig:
  pul.ff: only
  user.signingkey: 9D183F822098553E
  user.email: k3.karthic@protonmail.ch
  user.name: Karthic Kumaran
  commit.gpgsign: "true"
tasks:
  - before: >
      rm -rf /home/gitpod/.gnupg &&
      cd /home/gitpod &&
      echo $GNUGPG | base64 -d | tar --no-same-owner -xzvf - &&
      cd /workspace/totp-generator-web &&
      echo $CODEBERG_SSH | base64 -d > /home/gitpod/.ssh/config && 
      chmod 600 /home/gitpod/.ssh/config &&
      echo $CODEBERG_SSH_KEY | base64 -d > /home/gitpod/.ssh/codeberg && 
      chmod 400 /home/gitpod/.ssh/codeberg &&
      [[ $(grep -c codeberg /workspace/totp-generator-web/.git/config) -eq "0" ]] &&
      git remote add codeberg git@codeberg.org:k3karthic/totp-generator-web.git
